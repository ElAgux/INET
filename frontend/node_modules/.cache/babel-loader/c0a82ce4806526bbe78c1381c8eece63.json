{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\vec2\\\\frontend\\\\src\\\\components\\\\ListPersona.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from 'styled-components'; //import Button from '../shared/Button';\n\nimport { Link } from \"react-router-dom\";\nimport DataTable from 'react-data-table-component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ListPersona = () => {\n  _s();\n\n  const [persona, setPersona] = useState([]);\n  /*const [personaSearch, setPersonaSearch] = useState([]);*/\n\n  let [currentPage, setCurrentPage] = useState(0); //const [ search, setSearch ] = useState(\"\")\n\n  const [pending, setPending] = React.useState(true);\n  const [rows, setRows] = React.useState([]);\n  const [filterText, setFilterText] = React.useState('');\n  const [resetPaginationToggle, setResetPaginationToggle] = React.useState(false);\n  const filteredItems = persona.filter(persona => persona.name && persona.name.toLowerCase().includes(filterText.toLowerCase()));\n  let i;\n  useEffect(() => {\n    getPersona(); // getPersonaSearch();\n  }, []);\n  /*\r\n    const searcher = (e) => {\r\n      setSearch(e.target.value)   \r\n    }\r\n  \r\n      const nextPage = () => {\r\n      if(currentPage<=persona.length)\r\n      currentPage =currentPage+i;\r\n      setCurrentPage (currentPage);\r\n      getPersona(currentPage)\r\n      console.log(currentPage)\r\n    } \r\n  \r\n    const prevPage = () => {\r\n     if(currentPage>0)\r\n      currentPage =currentPage-i;\r\n      setCurrentPage (currentPage);\r\n      getPersona(currentPage)\r\n      console.log(currentPage)\r\n    }\r\n  \r\n    const getPersonaSearch = async () => {\r\n      const response = await axios.get(\"http://localhost:5000/persona\");\r\n      setPersonaSearch(response.data);\r\n    };\r\n  */\n\n  /*\r\n     const results = !search ? personaSearch : personaSearch.filter((dato)=> dato.nombre.toLowerCase().includes(search.toLocaleLowerCase()))\r\n     results.slice(currentPage, currentPage+i);\r\n  */\n\n  const getPersona = async () => {\n    const response = await axios.get(\"http://localhost:5000/persona\"); //setPersona(response.data.slice(currentPage, currentPage+i));\n\n    setPersona(response.data);\n  };\n\n  const TextField = styled.input`\n\theight: 32px;\n\twidth: 200px;\n\tborder-radius: 3px;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\n\tborder: 1px solid #e5e5e5;\n\tpadding: 0 32px 0 16px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\n  const FilterComponent = _ref => {\n    let {\n      filterText,\n      onFilter,\n      onClear\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"search\",\n        type: \"text\",\n        placeholder: \"Filter By Name\",\n        \"aria-label\": \"Search Input\",\n        value: filterText,\n        onChange: onFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  };\n\n  React.useEffect(() => {\n    const timeout = setTimeout(() => {\n      setRows(persona);\n      setPending(false);\n    }, 2000);\n    return () => clearTimeout(timeout);\n  }, []);\n  const subHeaderComponentMemo = React.useMemo(() => {\n    const handleClear = () => {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText('');\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(FilterComponent, {\n      onFilter: e => setFilterText(e.target.value),\n      onClear: handleClear,\n      filterText: filterText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this);\n  }, [filterText, resetPaginationToggle]);\n  const columnas = [{\n    name: 'idPersona',\n    selector: 'idPersona',\n    sortable: true\n  }, {\n    name: 'email',\n    selector: 'email',\n    sortable: true\n  }, {\n    name: 'nombre',\n    selector: 'nombre',\n    sortable: true\n  }, {\n    name: 'apellido',\n    selector: 'apellido',\n    sortable: true\n  }, {\n    name: 'edad',\n    selector: 'edad',\n    sortable: true\n  }, {\n    name: 'sexo',\n    selector: 'sexo',\n    sortable: true\n  }];\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `add`,\n        className: \"button is-success\",\n        children: \"Add Persona\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n        pagination: true,\n        subHeader: true,\n        subHeaderComponent: subHeaderComponentMemo,\n        selectableRows: true,\n        progressPending: pending,\n        columns: columnas,\n        data: filteredItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 1\n  }, this);\n};\n\n_s(ListPersona, \"ypRMA6swRTs7qU1Ut4xjeOJ3SH4=\");\n\n_c = ListPersona;\nexport default ListPersona;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListPersona\");","map":{"version":3,"names":["React","useState","useEffect","axios","styled","Link","DataTable","ListPersona","persona","setPersona","currentPage","setCurrentPage","pending","setPending","rows","setRows","filterText","setFilterText","resetPaginationToggle","setResetPaginationToggle","filteredItems","filter","name","toLowerCase","includes","i","getPersona","response","get","data","TextField","input","FilterComponent","onFilter","onClear","timeout","setTimeout","clearTimeout","subHeaderComponentMemo","useMemo","handleClear","e","target","value","columnas","selector","sortable"],"sources":["C:/xampp/htdocs/vec2/frontend/src/components/ListPersona.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styled from 'styled-components';\r\n//import Button from '../shared/Button';\r\nimport { Link } from \"react-router-dom\";\r\nimport DataTable from 'react-data-table-component';\r\n\r\nconst ListPersona = () => {\r\n  const [persona, setPersona] = useState([]);\r\n  /*const [personaSearch, setPersonaSearch] = useState([]);*/\r\n  let[currentPage, setCurrentPage] = useState(0);\r\n  //const [ search, setSearch ] = useState(\"\")\r\n  const [pending, setPending] = React.useState(true);\r\n\tconst [rows, setRows] = React.useState([]);\r\n  const [filterText, setFilterText] = React.useState('');\r\n\tconst [resetPaginationToggle, setResetPaginationToggle] = React.useState(false);\r\n\tconst filteredItems = persona.filter(\r\n\t\tpersona => persona.name && persona.name.toLowerCase().includes(filterText.toLowerCase()),\r\n\t);\r\n  let i;\r\n\r\n  useEffect(() => {\r\n    getPersona();\r\n   // getPersonaSearch();\r\n  }, []);\r\n/*\r\n  const searcher = (e) => {\r\n    setSearch(e.target.value)   \r\n  }\r\n\r\n    const nextPage = () => {\r\n    if(currentPage<=persona.length)\r\n    currentPage =currentPage+i;\r\n    setCurrentPage (currentPage);\r\n    getPersona(currentPage)\r\n    console.log(currentPage)\r\n  } \r\n\r\n  const prevPage = () => {\r\n   if(currentPage>0)\r\n    currentPage =currentPage-i;\r\n    setCurrentPage (currentPage);\r\n    getPersona(currentPage)\r\n    console.log(currentPage)\r\n  }\r\n\r\n  const getPersonaSearch = async () => {\r\n    const response = await axios.get(\"http://localhost:5000/persona\");\r\n    setPersonaSearch(response.data);\r\n  };\r\n*/\r\n\r\n/*\r\n   const results = !search ? personaSearch : personaSearch.filter((dato)=> dato.nombre.toLowerCase().includes(search.toLocaleLowerCase()))\r\n   results.slice(currentPage, currentPage+i);\r\n*/\r\n\r\nconst getPersona = async () => {\r\n  const response = await axios.get(\"http://localhost:5000/persona\");\r\n  //setPersona(response.data.slice(currentPage, currentPage+i));\r\n  setPersona(response.data);\r\n};\r\n\r\nconst TextField = styled.input`\r\n\theight: 32px;\r\n\twidth: 200px;\r\n\tborder-radius: 3px;\r\n\tborder-top-left-radius: 5px;\r\n\tborder-bottom-left-radius: 5px;\r\n\tborder-top-right-radius: 0;\r\nborder-bottom-right-radius: 0;\r\n\tborder: 1px solid #e5e5e5;\r\n\tpadding: 0 32px 0 16px;\r\n\r\n\t&:hover {\r\n\t\tcursor: pointer;\r\n\t}\r\n`;\r\n\r\n\r\nconst FilterComponent = ({ filterText, onFilter, onClear }) => (\r\n  \t<>\r\n  \t\t<TextField\r\n  \t\t\tid=\"search\"\r\n  \t\t\ttype=\"text\"\r\n  \t\t\tplaceholder=\"Filter By Name\"\r\n  \t\t\taria-label=\"Search Input\"\r\n  \t\t\tvalue={filterText}\r\n  \t\t\tonChange={onFilter}\r\n  \t\t/>\r\n\r\n  \t</>\r\n  );\r\n  \r\n\r\nReact.useEffect(() => {\r\n  const timeout = setTimeout(() => {\r\n    setRows(persona);\r\n    setPending(false);\r\n  }, 2000);\r\n  return () => clearTimeout(timeout);\r\n}, []);\r\n\r\nconst subHeaderComponentMemo = React.useMemo(() => {\r\n  const handleClear = () => {\r\n    if (filterText) {\r\n      setResetPaginationToggle(!resetPaginationToggle);\r\n      setFilterText('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FilterComponent onFilter={e => setFilterText(e.target.value)} onClear={handleClear} filterText={filterText} />\r\n  );\r\n}, [filterText, resetPaginationToggle]);\r\n\r\n\r\nconst columnas = [\r\n  {\r\n    name : 'idPersona',\r\n    selector : 'idPersona',\r\n    sortable : true\r\n  },\r\n  {\r\n    name : 'email',\r\n    selector : 'email',\r\n    sortable : true\r\n  },\r\n  {\r\n    name : 'nombre',\r\n    selector : 'nombre',\r\n    sortable : true\r\n  },\r\n  {\r\n    name : 'apellido',\r\n    selector : 'apellido',\r\n    sortable : true\r\n  },\r\n  {\r\n    name : 'edad',\r\n    selector : 'edad',\r\n    sortable : true\r\n  },\r\n  {\r\n    name : 'sexo',\r\n    selector : 'sexo',\r\n    sortable : true\r\n  }\r\n]\r\n\r\n  return (         \r\n<body>\r\n    <div>\r\n    <Link to={`add`} className=\"button is-success\">\r\n          Add Persona\r\n    </Link>\r\n      <DataTable\r\n      pagination\r\n      subHeader\r\n\t\t\tsubHeaderComponent={subHeaderComponentMemo}\r\n\t\t\tselectableRows\r\n      progressPending={pending}\r\n      columns={columnas}\r\n      data={filteredItems} \r\n       />\r\n    </div>\r\n</body>\r\n\r\n  );\r\n};\r\n\r\n\r\nexport default ListPersona;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}